<AccessControl @aclContext={{@aclContext}}>
  <div data-field={{@data-field}} class="form-field ember-view">
    <div class="input-group select-input">
      <PowerSelect
        @class="form-control"
        @options={{@options}}
        @placeholder={{@placeholder}}
        @selected={{@selected}}
        @searchField={{@searchField}}
        @onChange={{@onchange}}
        @matcher={{@matcher}}
        @onFocus={{action (mut this.shouldValidate) true}}
        @onBlur={{action this.validate}}
        @searchEnabled={{@searchEnabled}}
        @onClose={{action this.validate}} as |data|>
        {{component (concat 'related-fields/'@relateType) data=data}}
      </PowerSelect>
    </div>
      <span class="highlight"></span>
      <span class="bar"></span>

    {{!-- Label --}}
    <div data-form-field="label">
      <label class="floating-label">
        {{@label}} 
      </label>

        {{!-- Field Label Information --}}
      {{#if @showFieldInfo}}
        <div>
          <i class="fa fa-info-circle" aria-hidden="true" data-label-info="btn" {{on "click" (fn this.toggleLabelInfo @data-field)}}></i>
        </div>
        <div class="field-label-info" data-field-label="info">
          <i class="fa fa-caret-left" aria-hidden="true"></i>
          <p>{{@info}}</p>
        </div>
      {{/if}}
    </div>
      
      {{#if (and @message this.shouldValidate)}}
        <span class="error text-red" id={{@data-field}}>
          {{@message}}
        </span>
      {{/if}}
  </div>
</AccessControl>