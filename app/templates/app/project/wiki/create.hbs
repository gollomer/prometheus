<div class="wiki-detail box box-primary">

  <div class="box-header with-border">
    <h3 class="box-title">{{t "views.app.wiki.create.new"}}</h3>
  </div>
  {{!-- /.box-header --}}
  <div class="box-body">
    <div class="form-group">
      
      <div class="form-field">
        <FormFields::FieldText
            @placeholder={{t "views.app.wiki.create.name"}}
            @label={{t "views.app.wiki.create.name"}}
            @value={{this.model.name}}
            @mask="alphanumeric"
            @data-field="wiki.name"
            @focus-out={{action (mut this.showNameError) true}}
            @v-focus={{this.showNameError}}
            @v-model={{this.model}}
            @v-field='name'
            @v-output='message'
        />
      </div>

      <div class="form-field">
        <FormFields::FieldRelate
            @placeholder={{t "views.app.wiki.create.parent"}}
            @label={{t "views.app.wiki.create.parent"}}
            @value={{this.model.parentId}}
            @options={{this.wikiList}}
            @selected={{find-by "value" this.model.parentId this.wikiList}}
            @searchField="label"
            @onchange={{action "selectRelated" this.model 'parentId'}}
            @relateType="relate-simple"
            @data-field="wiki.parent"
            @focus-out={{action (mut this.showParentError) true}}
            @v-focus={{this.showParentError}}
            @v-model={{this.model}}
            @v-field='parentId'
            @v-output='message'
        />
      </div>

      <div data-field="wiki.description" class="form-field">
        <AppUi::ToastUi
            @usersList={{this.membersList}}
            @issueSearch={{perform this.search}}
            @contents={{readonly this.markUp}}
            @editType= 'wysiwyg'
            @hide={{array 'footer'}}
            @onContentChange={{action "selectStatic" this.model 'markUp'}}              
        />
      </div>
      
    </div>
  </div>

  <div class="box-footer">
    <button type="button" class="btn btn-primary" {{action "save"}}>{{t "global.form.save"}}</button>
    <button type="button" class="btn btn-default" {{action "cancel"}}>{{t "global.form.cancel"}}</button>
  </div>
</div>